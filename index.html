<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ElitePro AI | Workspace</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Inter', sans-serif; }

        body {
            background-color: #13171c;
            color: #ececec;
            display: flex; /* THIS ALIGNS SIDEBAR AND MAIN SIDE-BY-SIDE */
            height: 100vh;
            width: 100vw;
        }

        /* --- SIDEBAR --- */
        .sidebar {
            width: 260px;
            background-color: #0b0e11;
            border-right: 2px solid #5436da; /* Purple border to see it clearly */
            display: flex;
            flex-direction: column;
            padding: 20px;
            flex-shrink: 0; /* Prevents sidebar from shrinking to 0 */
        }

        .new-chat-btn {
            background: #5436da;
            color: white;
            border: none;
            padding: 12px;
            border-radius: 8px;
            cursor: pointer;
            margin-bottom: 20px;
            font-weight: 600;
        }

        /* --- MAIN CONTENT --- */
        .main-content {
            flex: 1; /* Takes up the rest of the screen */
            display: flex;
            flex-direction: column;
            background: #13171c;
        }

        .chat-area {
            flex: 1;
            overflow-y: auto;
            padding: 40px 20px;
        }

        .message-wrapper {
            max-width: 800px;
            margin: 0 auto;
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .message { display: flex; gap: 15px; padding: 15px; border-radius: 8px; background: rgba(255,255,255,0.03); }
        .avatar { width: 35px; height: 35px; border-radius: 5px; flex-shrink: 0; display: flex; align-items: center; justify-content: center; }
        .bot-avatar { background: #10a37f; }
        .user-avatar { background: #5436da; }

        /* --- INPUT --- */
        .input-wrapper {
            padding: 20px;
            background: #13171c;
            border-top: 1px solid rgba(255,255,255,0.1);
        }

        .input-box {
            max-width: 800px;
            margin: 0 auto;
            position: relative;
        }

        #messageInput {
            width: 100%;
            background: #22272e;
            border: 1px solid #444;
            padding: 15px;
            border-radius: 10px;
            color: white;
            outline: none;
        }

        #sendButton {
            position: absolute;
            right: 10px;
            top: 50%;
            transform: translateY(-50%);
            background: #5436da;
            border: none;
            color: white;
            padding: 8px 12px;
            border-radius: 5px;
            cursor: pointer;
        }
    </style>
</head>
<body>

    <aside class="sidebar">
        <h2 style="font-size: 1.2rem; margin-bottom: 20px;">ElitePro</h2>
        <button class="new-chat-btn" onclick="location.reload()">+ New Chat</button>
        <div style="color: #666; font-size: 0.8rem;">History</div>
        <div style="margin-top: 10px; color: #999;">Chat #1</div>
    </aside>

    <main class="main-content">
        <div class="chat-area">
            <div class="message-wrapper" id="chatMessages">
                <div class="message">
                    <div class="avatar bot-avatar"><i class="fas fa-robot"></i></div>
                    <div class="message-text">Sidebar check: If you can see the purple line on the left, it's working!</div>
                </div>
            </div>
        </div>

        <div class="input-wrapper">
            <div class="input-box">
                <input type="text" id="messageInput" placeholder="Message ElitePro...">
                <button id="sendButton"><i class="fas fa-paper-plane"></i></button>
            </div>
        </div>
    </main>

    <script>
        const chatMessages = document.getElementById('chatMessages');
        const messageInput = document.getElementById('messageInput');
        const sendButton = document.getElementById('sendButton');
        const API_BASE_URL = 'https://eliteprotech-apis.zone.id/copilot?q=';

        function addMessage(text, isUser = false) {
            const msgDiv = document.createElement('div');
            msgDiv.className = 'message';
            msgDiv.innerHTML = `
                <div class="avatar ${isUser ? 'user-avatar' : 'bot-avatar'}">
                    <i class="fas ${isUser ? 'fa-user' : 'fa-robot'}"></i>
                </div>
                <div class="message-text">${text}</div>
            `;
            chatMessages.appendChild(msgDiv);
        }

        async function sendMessage() {
            const text = messageInput.value.trim();
            if(!text) return;
            addMessage(text, true);
            messageInput.value = "";
            
            try {
                const res = await fetch(API_BASE_URL + encodeURIComponent(text));
                const data = await res.json();
                if(data.success) addMessage(data.text);
            } catch(e) {
                addMessage("Error connecting to API.");
            }
        }

        sendButton.onclick = sendMessage;
        messageInput.onkeypress = (e) => { if(e.key === 'Enter') sendMessage(); };
    </script>
</body>
</html>
